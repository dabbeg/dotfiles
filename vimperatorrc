colorscheme indigo

" Remove address bar at the top of the firefox screen"
set gui=nonavigation

" navigate the tabs with control-q and control-w"
map <C-j> <C-Tab>
map <C-k> <C-S-Tab>
imap <C-j> <ESC><C-Tab>
imap <C-k> <ESC><C-S-Tab>

" Scroll 3 times faster"
nnoremap j 3j
nnoremap k 3k

" Load configuration file into current browser, useful for updating after editing this file.
command! -description="Source the vimperatorrc file" sourcerc source ~/.vimperatorrc

" Open the firefox settings window
command! -description="Open firefox settings" settings tabopen about:preferences

" Hide status bar when fullscreen mode is detected
autocmd Fullscreen .* js updateBottomBar()

:js << EOF

let hlContentSepValue = highlight.get('ContentSeparator').value

function updateBottomBar(close = window.fullScreen) {
  let bb = document.getElementById('liberator-bottombar')
  if (! bb) return

  if (close) {
    bb.style.height = '0px'
    bb.style.overflow = 'hidden'
    liberator.execute('highlight ContentSeparator display: none;')
  }
  else {
    bb.style.height = ''
    bb.style.overflow = ''
    liberator.execute('highlight ContentSeparator ' + hlContentSepValue)
  }
}
updateBottomBar()

EOF
